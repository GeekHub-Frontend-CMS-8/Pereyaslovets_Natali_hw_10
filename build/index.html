<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8">
    <link href="https://fonts.googleapis.com/css?family=Damion" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,900" rel="stylesheet">
    <link type="text/css" rel="StyleSheet" href="css/style.css"/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>homework-10</title>
</head>

<body>
<header class="header">
    <div class="wrap">
        <div class="container header__container">
            <div class="header__logo">
                <a href="#">
                    acrostia
                </a>
            </div>
            <div class="header__menu menu">
                <div class="topnav" id="openMenu">
                    <span class="topnav__item topnav__item--top"></span>
                    <span class="topnav__item topnav__item--middle"></span>
                    <span class="topnav__item topnav__item--bottom"></span>
                </div>
                <nav class="menu-list menu__menu-list">
                    <ul class="menu-list__links">
                        <li class="menu-list__item"><a href="/" class="link menu-list__link">Home</a></li>
                        <li class="menu-list__item"><a href="services.html" class="link menu-list__link">Services</a></li>
                        <li class="menu-list__item"><a href="about.html" class="link menu-list__link">About</a></li>
                        <li class="menu-list__item"><a href="work.html" class="link menu-list__link">Work</a></li>
                        <li class="menu-list__item"><a href="contact.html" class="link menu-list__link">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>

            <div id="slider" class="slider">
                <ol class="slider__indicators">
                    <li class="slider__indicator slider__indicator_active" data-slide-to="0"></li>
                    <li class="slider__indicator" data-slide-to="1"></li>
                    <li class="slider__indicator" data-slide-to="2"></li>
                    <li class="slider__indicator" data-slide-to="3"></li>
                </ol>
                <div class="slider__items">
                    <div class="slider__item slider__item_1 slider__item_active">
                        <div class="slider__item_inner">
                            <div class="hero">
                                <p class="hero-content"><span class="header-desc-up">Good ideas</span> comes
                                </p>
                                <h1 class="headline hero-content__headline">First!
                                </h1>
                            </div>
                        </div>
                    </div>
                    <div class="slider__item slider__item_2">
                        <div class="slider__item_inner">
                            <div class="header-text">
                                <p class="header-desc"><span class="header-desc-up">Good ideas</span> comes
                                </p>
                                <h1>First!
                                </h1>
                            </div>
                        </div>
                    </div>
                    <div class="slider__item slider__item_3">
                        <div class="slider__item_inner">
                            <div class="header-text">
                                <p class="header-desc"><span class="header-desc-up">Good ideas</span> comes
                                </p>
                                <h1>First!
                                </h1>
                            </div>
                        </div>
                    </div>
                    <div class="slider__item slider__item_4 ">
                        <div class="slider__item_inner">
                            <div class="header-text">
                                <p class="header-desc"><span class="header-desc-up">Good ideas</span> comes
                                </p>
                                <h1>First!
                                </h1>
                            </div>
                        </div>
                    </div>
                </div>
                <a class="slider__control slider__control_prev" href="#" role="button"></a>
                <a class="slider__control slider__control_next" href="#" role="button"></a>
            </div>
    </div>
</header>

<footer>
    <div class="wrap">
            <ul class="footer-socials">
                <li>
                    <a href="" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                </li>
                <li>
                    <a href="" class="social-icon"><i class="fab fa-twitter"></i></a>
                </li>
                <li>
                    <a href="" class="social-icon"><i class="fab fa-google-plus-g"></i></a>
                </li>
                <li>
                    <a href="" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
                </li>
            </ul>
    </div>
</footer>
<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="  crossorigin="anonymous"></script>
<script>$(document).on('click', '#openMenu', function () {
    $(this).toggleClass('active');
    $('.menu-list').toggleClass('open');
});

$(document).on('touchstart' && 'touchend', function (e) {
    var container = $(".header__menu");
    if (container.has(e.target).length === 0) {
        $('#openMenu').removeClass('active');
        $('.menu-list').removeClass('open');
    }
});</script>

<script>
    'use strict';
    var slider = (function (config) {

        const ClassName = {
            INDICATOR_ACTIVE: 'slider__indicator_active',
            ITEM: 'slider__item',
            ITEM_LEFT: 'slider__item_left',
            ITEM_RIGHT: 'slider__item_right',
            ITEM_PREV: 'slider__item_prev',
            ITEM_NEXT: 'slider__item_next',
            ITEM_ACTIVE: 'slider__item_active'
        }

        var
            _isSliding = false,
            _interval = 0,
            _transitionDuration = 700,
            _slider = {},
            _items = {},
            _sliderIndicators = {},
            _config = {
                selector: '',
                isCycling: true,
                direction: 'next',
                interval: 5000,
                pause: true
            };

        var
            _getItemIndex = function (_currentItem) {
                var result;
                _items.forEach(function (item, index) {
                    if (item === _currentItem) {
                        result = index;
                    }
                });
                return result;
            },
            _setActiveIndicator = function (_activeIndex, _targetIndex) {
                if (_sliderIndicators.length !== _items.length) {
                    return;
                }
                _sliderIndicators[_activeIndex].classList.remove(ClassName.INDICATOR_ACTIVE);
                _sliderIndicators[_targetIndex].classList.add(ClassName.INDICATOR_ACTIVE);
            },
            _slide = function (direction, activeItemIndex, targetItemIndex) {
                var
                    directionalClassName = ClassName.ITEM_RIGHT,
                    orderClassName = ClassName.ITEM_PREV,
                    activeItem = _items[activeItemIndex],
                    targetItem = _items[targetItemIndex];

                var _slideEndTransition = function () {
                    activeItem.classList.remove(ClassName.ITEM_ACTIVE);
                    activeItem.classList.remove(directionalClassName);
                    targetItem.classList.remove(orderClassName);
                    targetItem.classList.remove(directionalClassName);
                    targetItem.classList.add(ClassName.ITEM_ACTIVE);
                    window.setTimeout(function () {
                        if (_config.isCycling) {
                            clearInterval(_interval);
                            _cycle();
                        }
                        _isSliding = false;
                        activeItem.removeEventListener('transitionend', _slideEndTransition);
                    }, _transitionDuration);
                };

                if (_isSliding) {
                    return;
                }
                _isSliding = true;

                if (direction === "next") {
                    directionalClassName = ClassName.ITEM_LEFT;
                    orderClassName = ClassName.ITEM_NEXT;
                }

                targetItem.classList.add(orderClassName);
                _setActiveIndicator(activeItemIndex, targetItemIndex);

                window.setTimeout(function () {
                    targetItem.classList.add(directionalClassName);
                    activeItem.classList.add(directionalClassName);
                    activeItem.addEventListener('transitionend', _slideEndTransition);
                }, 0);

            },
            _slideTo = function (direction) {
                var
                    activeItem = _slider.querySelector('.' + ClassName.ITEM_ACTIVE), // текущий элемент
                    activeItemIndex = _getItemIndex(activeItem), // индекс текущего элемента
                    lastItemIndex = _items.length - 1, // индекс последнего элемента
                    targetItemIndex = activeItemIndex === 0 ? lastItemIndex : activeItemIndex - 1;
                if (direction === "next") { // определяем индекс следующего слайда в зависимости от направления
                    targetItemIndex = activeItemIndex == lastItemIndex ? 0 : activeItemIndex + 1;
                }
                _slide(direction, activeItemIndex, targetItemIndex);
            },
            _cycle = function () {
                if (_config.isCycling) {
                    _interval = window.setInterval(function () {
                        _slideTo(_config.direction);
                    }, _config.interval);
                }
            },
            _actionClick = function (e) {
                var
                    activeItem = _slider.querySelector('.' + ClassName.ITEM_ACTIVE),
                    activeItemIndex = _getItemIndex(activeItem),
                    targetItemIndex = e.target.getAttribute('data-slide-to');

                if (!(e.target.hasAttribute('data-slide-to') || e.target.classList.contains('slider__control'))) {
                    return;
                }
                if (e.target.hasAttribute('data-slide-to')) {
                    if (activeItemIndex === targetItemIndex) {
                        return;
                    }
                    _slide((targetItemIndex > activeItemIndex) ? 'next' : 'prev', activeItemIndex, targetItemIndex);
                } else {
                    e.preventDefault();
                    _slideTo(e.target.classList.contains('slider__control_next') ? 'next' : 'prev');
                }
            },
            _setupListeners = function () {
                _slider.addEventListener('click', _actionClick);
                if (_config.pause && _config.isCycling) {
                    _slider.addEventListener('mouseenter', function (e) {
                        clearInterval(_interval);
                    });
                    _slider.addEventListener('mouseleave', function (e) {
                        clearInterval(_interval);
                        _cycle();
                    });
                }
            };

        // init (инициализация слайдера)
        for (var key in config) {
            if (key in _config) {
                _config[key] = config[key];
            }
        }
        _slider = (typeof _config.selector === 'string' ? document.querySelector(_config.selector) : _config.selector);
        _items = _slider.querySelectorAll('.' + ClassName.ITEM);
        _sliderIndicators = _slider.querySelectorAll('[data-slide-to]');

        _cycle();
        _setupListeners();

        return {
            next: function () {
                _slideTo('next');
            },
            prev: function () {
                _slideTo('prev');
            },
            stop: function () {
                clearInterval(_interval);
            },
            cycle: function () { // метод cycle
                clearInterval(_interval);
                _cycle();
            }
        }
    }({
        selector: '.slider',
        isCycling: false,
        direction: 'next',
        interval: 5000,
        pause: true
    }));
</script>

</body>
</html>